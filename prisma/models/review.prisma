/// ========================================
/// REVIEW MODELS
/// ========================================

/// JournalReview - Journal 리뷰
/// 특정 Journal에 대한 사후 평가 및 성찰 기록을 관리하는 모델
/// Journal의 추상화 역할에서 독립적인 리뷰 테이블로 변경
model JournalReview {
  id Int @id @default(autoincrement()) /// 고유식별자
  date DateTime /// 리뷰 작성 날짜
  title String @default("") /// 제목
  highlight ScoreType /// 중요도 평가
  journal_id Int @unique /// Journal 참조
  review_purpose String @default("") /// 리뷰 목적
  decision String @default("") /// 기존 판단
  decision_reason String @default("") /// 판단 이유
  result String @default("") /// 판단 결과
  evaluation_score ScoreType /// 평가 점수
  evaluation String @default("") /// 사후 평가
  lesson String @default("") /// 교훈
  action_plan String @default("") /// 개선 계획
  created_at DateTime @default(now()) /// 생성 시각
  updated_at DateTime @updatedAt /// 최종 수정 시각
  deactivated_at DateTime? /// 비활성화 시각 (null이면 활성 상태)

  // Relations
  target_journal Journal @relation(fields: [journal_id], references: [id])

  @@index([date])
  @@index([highlight])
  @@index([journal_id])
  @@index([evaluation_score])
  @@index([created_at])
  @@index([deactivated_at])
} 