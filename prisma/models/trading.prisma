/// ========================================
/// TRADING MODELS
/// ========================================

/// 개별 매매 메타 정보
/// 개별 매매 또는 포지션에 대한 메타 정보를 기록
/// 종목, 전략 적합성, 리뷰 등을 기록하며 EntryScenario 및 ExitScenario와 연결
model Trading {
  id Int @id @default(autoincrement()) // 고유식별자
  journal_item_id Int // JournalItem 참조 (이 매매 기록이 포함된 복기 JournalItem)
  symbol_id Int // Symbol 참조 (매매 종목)
  execution_score ScoreType // 전략 실행의 적절성 또는 수행력에 대한 주관적 평가

  // Relations
  journal_item JournalItem @relation(fields: [journal_item_id], references: [id])
  symbol Symbol @relation(fields: [symbol_id], references: [id])
  
  // Scenario relations
  entry_scenarios EntryScenario[]
  exit_scenarios ExitScenario[]
  
  // Order relations
  open_orders OpenOrder[]
  close_orders CloseOrder[]

  @@index([journal_item_id])
  @@index([symbol_id])
  @@index([execution_score])
}